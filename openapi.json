{
    "openapi" : "3.0.3" , 
    "info":{
        "version" : "0.0.1" , 
        "title" : "Customer Complaint Management System" , 
        "summary" : "Backend for the Customer Complaint Portal" , 
        "description" : "Provides endpoint to help in complaint generation and resolution" ,
        "termsOfService" : "https://github.com/adeisbright/customer-complaint-backend/readme.md" , 
        "contact" : {
            "name" : "Adeleke Bright" , 
            "email" : "adenababanla@gmail.com" , 
            "url" : "https://linkedin.com/in/adeleke-bright"
        } , 
        "license" : {
            "name" : "Apache 2.0" , 
            "url" : "https://apache.org/license/license-2.0.html"
        }
    } , 
    "servers" : [
            {
                "url" : "http://localhost:{port}" , 
                "description" : "Local Server" , 
                "variables" : {
                    "port":{
                        "default" : 4800 , 
                        "description" : "The port number you intend to run your server on"
                    }
                }
            },
            {
                "url" : "{rooUrl}/docs" , 
                "description" : "Production Server" , 
                "variables" : {
                    "rootUrl":{
                        "default" : "http://customer-complaint.herokuapp.com",
                        "description" : "Production Server for the Documentation"
                    }
                }
            }
        ] , 
    "components" : {
        "schemas" : {
            "indexName":{
                "type":"string",
                "description":"A descriptive name for an index on elasticsearch",
                "example": "catalog"
            },
            "firstName" : {
                "type":"string",
                "description":"Firstname of an entity",
                "example": "Foo"
            },
            "lastName" : {
                "type":"string",
                "description":"last name of an entity",
                "example": "Bar"
            },
            "email" : {
                "type":"string",
                "description":"email address",
                "example": "foo@bar.com"
            },
            "branch" : {
                "type":"string",
                "description":"logical grouping of organization's geography",
                "example": "First Branch"
            },
            "phoneNumber" : {
                "type":"string",
                "description":"Telephone number",
                "example": "+2348140850132"
            },
            "body" : {
                "type" : "object"  , 
                "description" : "An array of the search result" , 
                "properties" : {
                    "data" : {
                        "type" : "Array"
                    } , 
                    "message" : {
                        "$ref" : "#/components/schemas/message"
                    }
                } , 
                "example" : {
                    "message" : "The message" , 
                    "statusCode" : 200 , 
                    "data" : []
                }
            } , 
            "message" : {
                "type" : "string" , 
                "description" : "A response message from the server" , 
                "example" : "Your question was added successfully"
            },
            "statusCode" : {
                "type" : "integer" , 
                "format" : "int64" , 
                "description" : "Status code after server completes request handling" , 
                "example" : 200
            } , 
            "status" : {
                "type" : "string" ,  
                "description" : "A message indicating the outcome of the operation" , 
                "example" : "ok"
            } , 
            "data" : {
                "type" : "object" 
            }
        } , 
        "responses":{
            "200" : {
                "description" : "Request was successful"  , 
                "content" : {
                    "application/json" : {
                        "type" : "object" , 
                        "properties" : {
                            "message" : {
                                "$ref" : "#/components/schemas/message"
                            }, 
                            "statusCode" : {
                                "$ref" : "#/components/schemas/statusCode"
                            }
                        }
                    }
                }
            } , 
            "201" : {
                "description" : "Request was successful and a new item was created"  , 
                "content" : {
                    "application/json" : {
                        "type" : "object" , 
                        "properties" : {
                            "message" : {
                                "$ref" : "#/components/schemas/message"
                            }, 
                            "statusCode" : {
                                "$ref" : "#/components/schemas/statusCode"
                            }
                        }
                    }
                }
            } , 
            "400" : {
                "description" : "A bad request from the user"  , 
                "content" : {
                    "application/json" : {
                        "type" : "object" , 
                        "properties" : {
                            "message" : {
                                "$ref" : "#/components/schemas/message"
                            }, 
                            "statusCode" : {
                                "$ref" : "#/components/schemas/statusCode"
                            }
                        }
                    }
                }
            } , 
            "500" : {
                "description" : "An error on the server"  , 
                "content" : {
                    "application/json" : {
                        "type" : "object" , 
                        "properties" : {
                            "message" : {
                                "$ref" : "#/components/schemas/message"
                            }, 
                            "statusCode" : {
                                "$ref" : "#/components/schemas/statusCode"
                            }
                        }
                    }
                }
            }
        }
    } , 
    "tags" : [{"name" : "API Operations"}] , 
    "paths" : {
            "/v1/managers" : {
                "get" : {
                    "parameters" : [
                        {
                            "name" : "page" , 
                            "in" : "query" , 
                            "required" : "true" , 
                            "description" : "The particular page of the API to load" , 
                            "schema" : {
                                "type" : "integer" , 
                                "default" : 0
                            }
                        } ,
                        {
                            "name" : "limit" , 
                            "in" : "query" , 
                            "required" : "true" , 
                            "description" : "The number of question to skip" , 
                            "schema" : {
                                "type" : "integer" , 
                                "default" : 10
                            }
                        } , 
                        {
                            "name" : "filters" , 
                            "in" : "query" , 
                            "required" : false , 
                            "description" : "The attributes to return from each document" , 
                            "schema" : {
                                "type" : "string",
                                "example":"title,name,description"
                            }
                        }  
                        
                    ], 
                    "description" : "Retrieving a list of managers" ,
                    "responses":{
                        "200" :{
                            "description" : "Returns the first 10 managers" , 
                            "content" : {
                                "application/json":{
                                    "type" : "array"
                                }
                            }
                        } , 
                        "400" : {
                            "$ref" :"#/components/responses/400"
                        },
                        "500" : {
                            "$ref" :"#/components/responses/500"
                        }
                    }
                } , 
                "post" : {
                    "description" : "Adds a new manager" , 
                    "requestBody" : {
                        "description" : "The manager data" , 
                        "required" : true , 
                        "content" : {
                            "application/json":{
                                    "schema" : {
                                        "type" : "object" ,
                                        "properties" : {
                                            "firstName" : {
                                                "$ref" : "#/components/schemas/firstName" 
                                            } , 
                                            "lastName" : {
                                                "$ref" : "#/components/schemas/lastName" 
                                            } , 
                                            "email" : {
                                                "$ref" : "#/components/schemas/email" 
                                            } , 
                                            "phoneNumber" : {
                                                "$ref" : "#/components/schemas/phoneNumber" 
                                            } ,
                                            "branch" : {
                                                "$ref" : "#/components/schemas/branch" 
                                            }
                                        } , 
                                        "required" : [
                                            "firstName" , 
                                            "lastName" , 
                                            "email",
                                            "phoneNumber" , 
                                            "branch"
                                        ]
                                }
                            }
                        }
                    } , 
                    "responses":{
                        "201" :{
                            "$ref" :"#/components/responses/201"
                        } , 
                        "400" : {
                            "$ref" :"#/components/responses/400"
                        },
                        "500" : {
                            "$ref" :"#/components/responses/500"
                        }
                    }
                }
            } , 
            "/v1/managers/{id}" : {
                "patch": {
                    "description" : "Updates a manager record" , 
                    "requestBody" : {
                        "required" : true , 
                        "content" : {
                            "application/json":{
                                    "schema" : {
                                        "type" : "object" ,
                                        "properties" : {
                                            "firstName" : {
                                                "$ref" : "#/components/schemas/firstName" 
                                            } , 
                                            "anyOtherField" : "//You can provide details of the field //"
                                        } , 
                                        "required" : ["firstName"]
                                }
                            }
                        }
                    } , 
                    "responses":{
                        "201" :{
                            "$ref" :"#/components/responses/201"
                        } , 
                        "400" : {
                            "$ref" :"#/components/responses/400"
                        },
                        "500" : {
                            "$ref" :"#/components/responses/500"
                        }
                    }
                },
                "delete" : {
                    "parameters" : {

                    },
                    "responses":{
                        "201" :{
                            "$ref" :"#/components/responses/201"
                        } , 
                        "400" : {
                            "$ref" :"#/components/responses/400"
                        },
                        "500" : {
                            "$ref" :"#/components/responses/500"
                        }
                    }
                },
                "get" : {
                    "description" : "",
                    "parameters":[
                        {
                            "name":"id" , 
                            "in" : "path" , 
                            "required" : true , 
                            "example" : "623d318595e0ff1175c1f181",
                            "schema":{
                                "type" : "string"
                            }
                        }
                    ],
                    "responses":{
                        "200" :{
                            "description" : "Returns all questions that matches the query" , 
                            "content" : {
                                "application/json":{
                                    "type" : "object"
                                }
                            }
                        } , 
                        "400" : {
                            "$ref" :"#/components/responses/400"
                        },
                        "500" : {
                            "$ref" :"#/components/responses/500"
                        }
                    }
                }
            }
        }
}
